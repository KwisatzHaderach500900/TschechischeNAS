## RECEPT: Homemade NAS s TrueNAS 
Jak si postavit NASku ze sračkoidních dílů, které se nám válí doma nebo jsme ochotni je ukrást z Alza muzea.
0. Noname PC bedna. Tou to všechno začíná. Jedna černá, neznámého výrobce se tu povaluje už roky, tak jí znárodňuji ve jménu vyššího dobra a zákonů recyklace.
1. Vezmeme jednu středně jetou desku od ASUSu a pomodlíme se za funkční SATA porty a podporu NVMe v PCIe (Asus Prime B450-Plus s biosem ve verzi 4644). Nezapomeneme do ní vrazit procesor, který se nám válel ve skříni už 3 roky - AMD Ryzen 5 2600, zkontrolujeme piny a zjišťujeme, že nejsme zas takový looseři, jak se o nás mluví. Protože žádnej pin nechybí nebo není ohnutej. Doplníme to solidním chladičem Scythe Mugen 5 rev. B. Připádáme si trochu nepatřičně, že tam rveme takové chladící dělo - do NASky. Ale co, přece nebudeme kupovat nic nového.
2. Po zjištění, že tam NVMe v PCIe slotech nerozběhneme - což zjišťujeme až po dvou hodinách snažení, tak prostě chvíli brečíme v koutě a přemýšlíme, proč je vesmír tak nemilosrdnej. Výrobce Aušuš nám lhal, protože byť v novém BIOSu, ten setting nikde není a je až v o třídu novější desce.
3. Je důležité si uvědomit, že se dvěma GB operační paměti to může jet, ale na hovno. A my chceme Jellyfin, že jo? Takže hledáme alternativu, kterou nacházíme v PC našich dětí, manželky či sourozence. V tajnosti z jejich PC vymontujeme 1 až 4 paměťové moduly (podle potřeby) a ty vložíme do naší skvělé budoucí NASky.
   _PS: Moduly tam opravdu nepasují všechny, a silou to jde možná na dílně, při výměně poloosy_
4. Nyní musíme přehodnotit svoje plány na počet disků (už nebrečíme, slzy by mohli poškodit už tak dojebanou desku, kterou používáme) a proto připojujeme do PC sračkové disky z druhé ruky (díky Western Digitále), disky vymontované z DVR jednotek v celkovém počtu "krásných 5 kousků, 1TB disků" a jeden zbrusu nový SSD disk na OS. Ne kecám, tomu SSDčku je asi 10 let, ale nebyl prakticky používaný. Jeho WearAndTear je asi 10%, takže se spíš modlíme za to, aby nechcípla nějaká jiná el. komponenta, než samotné paměťové čipy.
5. Když už máme tenhle celkem solidní boršč, za který by se nestyděl ani Pejsek s Kočičkou nebo někdo, kdo umí používat cyrilici, tak to okořeníme jednou zbrusu novou (rozuměj, zbrusu nově vytaženou ze skříně) grafickou kartou od nVidie. To by jste netušili kolik parády vám udělá taková Gigabyte nVidia 7600GT Silent Pipe II z roku 2006/7 :D
   Opět musí probíhat modlitba a zaříkávání komponent, aby vydrželi počáteční nájezd.
6. V tuhle chvíli vám asi dochází, že jsem zapomněl zmínit to důležité. O všechnu tu energetickou parádu se nám stará solidní zdroj Corsair TX750 koupený v roce 2009. Původně měl myslím záruku 10 let. Tak by mohl ještě chvíli vydržet.
7. Připojujeme nejlepší zobrazovací jednotku - Lenovo LS223wA. Monitor z roku 2013, který ještě neřekl své poslední slovo. A k tomu přihodíme sračkoidní klávesnici a myš od DELLu v celkové ceně 0 Kč s německým layoutem. To abych si okořenil ráno a vzpomenul si na našeho vůdce, Filipa Turka de ExpensiveCareste.
8. Zapínáme zdroj a mačkáme futuristické tlačítko na bedně...
   ONO TO ŽIJE!
9. Po několika peripetiích úspěšně instalujeme TrueNAS. Taky by mohli psát rovnou, že to nebootnete z Ventoy a musíte si udělat separátní instalační FLASHku pro TrueNAS.
   _navíc je potřeba připojený síťový kabel, abychom se vyhnuli znovunastavování síťové karty_
10. Takže jsme online a vesele se seznamujeme se TrueNAS. Vytváříme pole z našich skvělých disků a zjišťujeme, že jsme kokoti, protože z těch 5 disků jsou dva 1TB, jeden je 2TB a dva jsou 500GB. Tolik ke a čtení s porozuměním na základní škole, kde jsem očividně chyběl... Znovu brečíme, pro změnu nad vlastním dementstvím...
11. Když už to tak nějak máme nastavené a pole vytvořené, instalujeme Jellyfin. Protože přece chceme tu domácí "legální" filmotéku, kde budou jen volně dostupné filmy nepodléhající autorským zákonům. Buster Keaton odpustí, ale já jeho hrané, němé filmy prostě miluju a musím je mít ve 4K.
12. A zde narážíme na první problém. Ne všechny formáty jdou přímo streamovat na televizi nebo telefon. Oni jaksi některé filmy mají...NA HOVNO... použité kódování a Jellyfin to nezkousne - nebo televize. Netuším. Problém je ten, že tam pak probíhá transkóding on-the-fly. Který naráží na to, že buď procesor nebo naše skvělá grafická karta na to prostě nemá. Takže vytahujeme ze skříně vlajkovou loď AMD grafik - Sapphire Nitro R380 se 4GB VRAM. No dobře, není to vlajková loď, je to spíš nafukovací člun ze scény v Call of Duty Modern Warfare 2. Ale účel splní, než jí také hodím ze skály, tak jako hodil Soap kapitána Price a celej jejich člun.
13. Nevím, zda chci někoho dál zatěžovat touhle nádherou...
